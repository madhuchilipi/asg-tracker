<!DOCTYPE html>
<html>
<head>
  <title>Employer Dashboard | ASG IT</title>
  <style>
    body {margin:0;font-family:'Segoe UI',Arial,sans-serif;background:linear-gradient(135deg,#e0ebf5 0%,#f3f9fd 100%);}
    .banner {
      background:#003366;color:white;padding:2rem 2.5rem;text-align:left;font-size:2.5rem;font-weight:bold;letter-spacing:2px;
      box-shadow:0 4px 10px rgba(0,0,0,0.08);display:flex;align-items:center;justify-content:space-between;gap:1rem;
    }
    .banner .title { font-size: 2.2rem; }

    /* Smaller compact button, consistent with login */
    .reg-btn {
      background:#ffffff;color:#003366;padding:0.35rem 0.8rem;font-size:0.95rem;border-radius:6px;text-decoration:none;
      font-weight:700;border:0;box-shadow:0 2px 6px rgba(0,0,0,0.08);display:inline-block;line-height:1;
    }
    .reg-btn:hover { background:#f0f6ff; }

    .centered-wrapper {display:flex;flex-direction:column;align-items:center;justify-content:center;}
    .card {background:white;border-radius:16px;box-shadow:0 8px 32px rgba(51,102,204,0.08);padding:2rem;max-width:900px;width:100%;margin-top:2rem;}
    h2 {color:#003366;font-size:1.4rem;margin-top:0;text-align:center;}

    /* Tabs */
    .tabs { display:flex; gap:10px; justify-content:center; margin-bottom:1rem; }
    .tab { padding:0.5rem 0.9rem; border-radius:12px; background:#f6fafd; color:#003366; font-weight:600; cursor:pointer; }
    .tab.active { background:#2977ef; color:#fff; box-shadow:0 4px 10px rgba(41,119,239,0.18); }

    .tab-content { display:none; padding-top:0.5rem; }
    .tab-content.active { display:block; }

    /* Form layout */
    .add-req-form { max-width:720px; margin:0 auto; }
    .form-row { display:flex; gap:0.8rem; align-items:center; margin-bottom:0.9rem; }
    .form-row label { min-width:100px; color:#334c70; font-weight:600; }
    .form-row input, .form-row textarea { flex:1; padding:0.45rem 0.6rem; border:1px solid #b6c7de; border-radius:7px; background:#f9faff; font-size:1rem; }
    .form-row textarea { min-height:80px; resize:vertical; }

    /* Make fields wrap on smaller screens */
    @media (max-width:820px) {
      .form-row { flex-direction:column; align-items:stretch; }
      .form-row label { min-width:unset; margin-bottom:0.35rem; }
    }

    .submit-full { margin-top:1rem; width:100%; padding:0.75rem; border:none; border-radius:8px; background:#2977ef; color:white; font-size:1.05rem; font-weight:bold; cursor:pointer; }
    .submit-full:hover { background:#1753c1; }
    .logout-link { display:block; text-align:center; margin-top:1.5rem; color:#2977ef; font-weight:bold; text-decoration:none; }
  </style>
  <script>
    function switchTab(tabName) {
      // remove active from tabs and panes
      for (const tab of document.querySelectorAll('.tab')) tab.classList.remove('active');
      for (const pane of document.querySelectorAll('.tab-content')) pane.classList.remove('active');
      // add to selected
      const btn = document.getElementById(tabName + 'TabBtn');
      const pane = document.getElementById(tabName + 'Tab');
      if (btn && pane) {
        btn.classList.add('active');
        pane.classList.add('active');
      }
    }
    // set default on load
    window.addEventListener('DOMContentLoaded', function() {
      switchTab('Employees');
    });
  </script>
</head>
<body>
  <div class="banner">
    <div class="title">ASG IT Employer Dashboard</div>
    <a class="reg-btn" href="/register">Employee Registration</a>
  </div>
  <div class="centered-wrapper">
    <div class="card">
      <div class="tabs">
        <div class="tab" id="EmployeesTabBtn" onclick="switchTab('Employees')">Employees</div>
        <div class="tab" id="RequirementsTabBtn" onclick="switchTab('Requirements')">Requirements</div>
      </div>

      <div class="tab-content" id="EmployeesTab">
        <h2>Registered Employees</h2>
        <!-- Keep your existing table here - it will be shown when Employees tab is active -->
        <table style="width:100%;border-collapse:collapse;margin-top:1rem;">
          <tr>
            <th style="text-align:left;padding:0.6rem;background:#e8f0fa;color:#003366;">Name</th>
            <th style="text-align:left;padding:0.6rem;background:#e8f0fa;color:#003366;">Email</th>
            <th style="text-align:left;padding:0.6rem;background:#e8f0fa;color:#003366;">Designation</th>
            <th style="text-align:left;padding:0.6rem;background:#e8f0fa;color:#003366;">Consultant Name</th>
            <th style="text-align:left;padding:0.6rem;background:#e8f0fa;color:#003366;">View</th>
          </tr>
          {% for emp in employees %}
          <tr>
            <td style="padding:0.6rem;">{{ emp.name }}</td>
            <td style="padding:0.6rem;">{{ emp.email }}</td>
            <td style="padding:0.6rem;">{{ emp.designation }}</td>
            <td style="padding:0.6rem;">{{ emp.consultant }}</td>
            <td style="padding:0.6rem;"><a class="detail-link" href="/employee/{{ emp.email }}">View</a></td>
          </tr>
          {% endfor %}
        </table>
      </div>

      <div class="tab-content" id="RequirementsTab">
        <h2>Add Requirement</h2>

        <form class="add-req-form" action="/add_requirement" method="POST">
          <div class="form-row">
            <label for="title">Job Title</label>
            <input type="text" id="title" name="title" required>
            <label for="location" style="min-width:80px; margin-left:8px;">Location</label>
            <input type="text" id="location" name="location" required>
          </div>

          <div class="form-row">
            <label for="years_of_exp">Years of Exp</label>
            <input type="text" id="years_of_exp" name="years_of_exp" required>
            <label for="description" style="min-width:80px; margin-left:8px;">Description</label>
            <textarea id="description" name="description" required></textarea>
          </div>

          <button type="submit" class="submit-full">Add Requirement</button>
        </form>
      </div>

      <a class="logout-link" href="/logout">Logout</a>
    </div>
  </div>
</body>
</html>